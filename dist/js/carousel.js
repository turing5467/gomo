"use strict";!function(r,e,t,c){var i=function(e,t){this.$ele=e,this.defaults={_width:600,_height:400,page:"page",btn:!0,nextClass:"next",prevClass:"prev",nextText:"下一张",prevText:"上一张",fade:"normal",time:"",pageNum:!1,pagelocat:!0},this.init=r.extend({},this.defaults,t)};i.prototype={slideFade:function(){var i=this.$ele.children("ul.list").children("li");i.eq(0).show().siblings("li").hide();var s=this.init;if(this.$ele.css({width:s._width+"px",height:s._height+"px",margin:"0 auto"}),i.css({position:"absolute",left:0,width:s._width+"px",height:s._height+"px"}),i.find("img").css({width:"100%",height:"100%"}),""!=s.page&&s.page!=c){this.$ele.append('<ul class="'+s.page+'"></ul>');for(var a=0;a<i.length;a++)1==s.pageNum?r("."+s.page).append("<li>"+(a+1)+"</li>"):0==s.pageNum&&r("."+s.page).append("<li>&nbsp;</li>");var n=r("."+s.page),e=n.children("li");e.css("float","left");var t=Math.ceil(e.outerWidth(!0)+.05)*e.length,l=s._width/2-t/2;e.eq(0).addClass("on"),n.css({position:"absolute",width:t+"px"}),1==s.pagelocat&&n.css("left",l+"px")}if(1==s.btn){this.$ele.append('<a href="javascript:;" class="sBtn">'+s.prevText+'</a><a href="javascript:;" class="sBtn">'+s.nextText+"</a>");var d=Math.round(s._height/2-this.$ele.children("a.sBtn").height()/2);this.$ele.children("a.sBtn").css({position:"absolute",top:d+"px"}),""==s.nextClass&&""==s.prevClass||this.$ele.children("a.sBtn").eq(0).addClass(s.prevClass).next("a.sBtn").addClass(s.nextClass)}a=0;var h=function(e){i.eq(a).fadeOut(e).next().fadeIn(e),n.children("li").eq(a).removeClass("on").next().addClass("on"),++a>i.length-1&&(a=0,i.eq(a).fadeIn(e),n.children("li").eq(a).addClass("on"))};if(r(".next").click(function(e){h(s.fade)}),r(".prev").click(function(e){var t;t=s.fade,console.log(i.length),0==a?(a=i.length-1,i.eq(0).fadeOut(t),i.eq(a).fadeIn(t),n.children("li").eq(0).removeClass("on"),n.children("li").eq(a).addClass("on")):(i.eq(a).fadeOut(t).prev().fadeIn(t),n.children("li").eq(a).removeClass("on").prev().addClass("on"),a--)}),""!=s.time&&s.time!=c){var o=setInterval(h,s.time);i.each(function(e,t){r(this).mouseover(function(e){clearInterval(o)}).mouseout(function(e){o=setInterval(h,s.time)})})}""!=s.page&&s.page!=c&&e.each(function(t,e){r(this).click(function(e){console.log(t),a=t,console.log(a),i.eq(a).fadeIn(s.fade).siblings("li").fadeOut(s.fade),n.children("li").eq(a).addClass("on").siblings("li").removeClass("on")})})}},r.fn.enCarousel=function(e){return new i(this,e).slideFade()}}(jQuery,window,document);